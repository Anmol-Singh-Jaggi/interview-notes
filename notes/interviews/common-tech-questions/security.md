# RSA basics
- Sender(S) and Receiver (R).
- S encrypts using PubK(R), Receiver decrypts using PrivK(R).
- S signs using PrivK(S), Receiver verifies using PubK(S).
- Always do signing first then encrypt (message + sign).
- If we sign later, then any stranger can verify that it was sent by S.
- There is no major problem in that but its better if we are able to hide that even.

## Math.

### Public Key
- Public key is generated by multiplying two large prime numbers `p` and `q` together.
- Let `p*q = n`. Factorizing n is hard.
- `n = p*q` is only half of the public key.
- Let `phi = phi(n)`, where phi is Eulers Totient function.
- So `phi(n) = phi(p*q) = (p-1) * (q-1)`.
- Now choose a number `e` that is relatively coprime to `phi(n)`. Generally, e = 2^16 + 1 = 65537.
- `e` is the other half of the public key.

### Private Key
- Choose `d` such that `d` is the modular inverse of `e` mod `phi`; `d*e % phi = 1`.
- `d` is the private key.

## Working
- Let the message's encoding be a number `m`.
- We compute `c = m^e % n`. `c` is the ciphertext.
- The receiver computes `p = c^d % n`; `p` is the plaintext == `m`.
- For proof, read this - <https://certauth.epfl.ch/rsa/node3.html#SECTION00031000000000000000>.